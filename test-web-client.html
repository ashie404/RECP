<!DOCTYPE html>
<html>
  <body>
    <style>table, th, td { border: 1px solid black; }</style>
    <h1>RECS web interface testing</h1>
    <table id="chat">

    </table>
    <input id="chatbox" type="text" placeholder="Type your message here..."></input>
    <button onclick="submit()" id="submitbtn">Send</button>

    <!-- scripts -->
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- inline because i'm lazy -->
    <script>
    
function update() {
  $.getJSON('http://localhost:5000/recs/api/v1.0/message' , function(data) {
    var tbl_body = "";
    var odd_even = false;
    console.log(data);
    $.each(data, function() {
        var tbl_row = "";
        $.each(this, function(k , v) {
            tbl_row += "<td>"+v.content+"</td>";
        })
        tbl_body += "<tr class=\""+( odd_even ? "odd" : "even")+"\">"+tbl_row+"</tr>";
        odd_even = !odd_even;
    })
    $("#chat").html(tbl_body);
});
}

function submit() {
  $.ajax({
    type: 'POST',
    url: 'http://localhost:5000/recs/api/v1.0/message',
    data: '{"authorid":1,"content":"' + $('#chatbox').val() + '"}',
    success: function(data) { alert('data: ' + data); },
    contentType: "application/json",
    dataType: 'json'
  });
}
</script>
  </body>
</html>
